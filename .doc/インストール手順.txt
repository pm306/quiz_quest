#
cd /var/www/html


#コンポーザーのインストール
curl -sS https://getcomposer.org/installer | php

#ツイッター認証ライブラリの導入
php composer.phar require abraham/twitteroauth






-------
■アップデート
sudo yum update -y


■ロケールの変更
ロケール確認
localectl status

ロケールを日本に変更
localectl set-locale LANG=ja_JP.utf8

■SSL有効化
yum list installed mod_ssl
yum install mod_ssl

■apacheの設定
/etc/httpd/conf
httpd.conf
→ServerName test.quiz.army:80


/etc/httpd/conf.d
ssl.conf
ServerName test.quiz.army:443


■SSL証明書インスコ
（１）conohaの管理ツールで逆引きホスト名をtest.quiz.armyに設定
（２）httpとhttpsのポートを手動で開く（conohaの管理ツールだとNG）
firewall-cmd --permanent --add-service=http
firewall-cmd --permanent --add-service=https
firewall-cmd --reload
firewall-cmd --list-all	:確認



以下手順（Apacheの設定画終わっていたらYESをおしていくだけ。途中でメルアド入力あり）
https://weblabo.oscasierra.net/letsencrypt-2/
上記の実際の手順
yum install epel-release
yum install certbot python-certbot-apache
certbot certonly --webroot -w /var/www/html/ -d test.quiz.army
そのあとメールアドレス入力など
ls -l /etc/letsencrypt/live/test.quiz.army

apacheの証明書設定 ssl.conf
SSLCertificateFile /etc/letsencrypt/live/test.quiz.army/cert.pem
SSLCertificateKeyFile /etc/letsencrypt/live/test.quiz.army/privkey.pem
SSLCertificateChainFile /etc/letsencrypt/live/test.quiz.army/chain.pem

apacheの設定は以下を参照
http://qiita.com/HitoshiHaga/items/67378de7f97fbaa6d356


apacheの再起動
service httpd restart


SSLの設定できているかブラウザで確認
https://test.quiz.army


証明書の自動更新（/etc/cron.monthly）
CRONの設定(ディレクトリはインストール場所によって異なる。コマンドを１回試しておくとよい)
以下のようなファイルを作る
ファイル名：letsencrypt
内容：certbot renew

参考：https://blog.apar.jp/linux/3619/#i-5




